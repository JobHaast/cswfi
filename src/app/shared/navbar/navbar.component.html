<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <div class="container">
    <a
      class="navbar-brand"
      routerLink="/"
      [routerLinkActive]="['active']"
      [routerLinkActiveOptions]="{ exact: true }"
      >{{ title }}</a
    >
    <button
      class="navbar-toggler hidden-sm-up"
      type="button"
      (click)="isNavbarCollapsed = !isNavbarCollapsed"
      data-target="#navbarsDefault"
      aria-controls="navbarsDefault"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div
      [ngbCollapse]="isNavbarCollapsed"
      class="collapse navbar-collapse"
      id="navbarsDefault"
    >
      <ul class="navbar-nav mr-auto">
        <li class="nav-item" *ngIf="isAdmin$ | async">
          <a
            class="nav-link"
            routerLink="/users"
            [routerLinkActive]="['active']"
            [routerLinkActiveOptions]="{ exact: true }"
            >Users</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            routerLink="/films"
            [routerLinkActive]="['active']"
            [routerLinkActiveOptions]="{ exact: true }"
            >Films</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            routerLink="/screenings"
            [routerLinkActive]="['active']"
            [routerLinkActiveOptions]="{ exact: true }"
            >Screenings</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            routerLink="/halls"
            [routerLinkActive]="['active']"
            [routerLinkActiveOptions]="{ exact: true }"
            >Halls</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            routerLink="/actors"
            [routerLinkActive]="['active']"
            [routerLinkActiveOptions]="{ exact: true }"
            >Actors</a
          >
        </li>
        <li class="nav-item" *ngIf="isUser$ | async">
          <a
            class="nav-link"
            routerLink="/people"
            [routerLinkActive]="['active']"
            [routerLinkActiveOptions]="{ exact: true }"
            >People</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            routerLink="/about"
            [routerLinkActive]="['active']"
            [routerLinkActiveOptions]="{ exact: true }"
            >About</a
          >
        </li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item" *ngIf="(isLoggedIn$ | async) === false">
          <a
            class="nav-link"
            routerLink="/register"
            [routerLinkActive]="['active']"
            >Register</a
          >
        </li>
        <li class="nav-item" *ngIf="(isLoggedIn$ | async) === false">
          <a
            class="nav-link"
            routerLink="/login"
            [routerLinkActive]="['active']"
            >Login</a
          >
        </li>
        <li
          *ngIf="isLoggedIn$ | async as isLoggedIn"
          ngbDropdown
          class="nav-item dropdown"
        >
          <a ngbDropdownToggle class="nav-link" id="user-fullname">{{
            fullName
          }}</a>
          <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="profile">
            <a
              *ngIf="isUser$ | async"
              class="dropdown-item"
              routerLink="/users/details/{{ user._id }}"
              [routerLinkActive]="['active']"
              >My Profile</a
            >
            <div class="dropdown-divider" *ngIf="isUser$ | async"></div>
            <a class="dropdown-item" routerLink="" (click)="onLogout()"
              >Logout</a
            >
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
